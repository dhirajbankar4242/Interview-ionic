<ion-content [fullscreen]="true" class="my-background-div">

  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Login</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-card class="card-margin-top">
    <ion-card-header>
      <ion-img src="assets/images/logo.jpg"></ion-img>
    </ion-card-header>

    <ion-card-content>
      <div class="ion-padding login-container">
        <form [formGroup]="registerForm" novalidate (ngSubmit)="login()">
          <div class="ion-margin-top">
            <p>Welcome back! Please log in</p>
          </div>

          <div class="ion-margin-bottom">
            <ion-input label="Username" label-placement="floating" fill="outline" mode="md" placeholder="Enter username"
              formControlName="username">
              <ion-icon slot="start" name="person" aria-hidden="true"></ion-icon>
            </ion-input>
            <app-validator [submitted]="submitted" [control]="$any(registerForm.get('username'))"></app-validator>
          </div>

          <div class="ion-margin-bottom">
            <ion-input label="Password" label-placement="floating" fill="outline" mode="md"
              [type]="showPassword ? 'text' : 'password'" placeholder="Enter password" formControlName="password">
              <ion-icon slot="start" name="key" aria-hidden="true"></ion-icon>
              <ion-button fill="clear" slot="end" type="button" (click)="togglePassword()">
                <ion-icon slot="icon-only" [name]="showPassword ? 'eye-off' : 'eye'" aria-hidden="true"
                  color="secondary"></ion-icon>
              </ion-button>
            </ion-input>
            <app-validator [submitted]="submitted" [control]="$any(registerForm.get('password'))"></app-validator>
          </div>

          <!-- Login Button -->
          <div class="ion-margin-top">
            <ion-button class="animated-login-btn big-button" expand="block" type="submit">
              <ng-container *ngIf="!loading; else spinner">
                LOG IN â†’
              </ng-container>
              <ng-template #spinner>
                <ion-spinner name="dots" color="light"></ion-spinner>
              </ng-template>
            </ion-button>
          </div>
          <ion-button fill="clear" color="danger">Forget Username/Password ?</ion-button>
        </form>
      </div>
    </ion-card-content>


  </ion-card>
  <ng-template [ngIf]="loading">
  <div class="loading-overlay">
    <ion-spinner name="Lines Small" color="tertiary"></ion-spinner>
  </div>
</ng-template>
</ion-content>